# 导航网站管理后台 - 功能说明文档

## 🎯 项目概述

这是一个基于PHP + MySQL开发的导航网站管理后台系统，提供精简但完整的网站内容管理功能，包括分类管理、链接管理、系统设置等核心模块。

## 📋 核心功能模块

### 1. 分类管理 (Category Management)

#### 功能特性
- **分类列表展示**: 表格形式展示所有分类，支持分页和搜索
- **添加分类**: 创建新的导航分类，支持以下字段：
  - 分类名称（必填）
  - 分类描述
  - 分类图标（支持上传或URL）
  - 排序权重
  - 启用/禁用状态
- **编辑分类**: 修改现有分类的所有信息
- **删除分类**: 支持单个删除和批量删除，删除时级联删除关联链接
- **排序管理**: 拖拽式调整分类显示顺序
- **状态切换**: 一键启用/禁用分类

#### 技术实现
- 前端：Bootstrap表格 + jQuery拖拽排序
- 后端：PHP PDO操作数据库，支持事务处理
- 验证：前端+后端双重验证，防止XSS和SQL注入

### 2. 链接管理 (Link Management)

#### 功能特性
- **链接列表**: 按分类筛选显示链接，支持关键字搜索
- **添加链接**: 添加新的网站链接，包含字段：
  - 网站标题（必填）
  - 网站URL（必填，自动验证格式）
  - 网站描述
  - 所属分类（下拉选择）
  - 网站图标（自动获取favicon或手动上传）
  - 排序权重
  - 启用/禁用状态
- **编辑链接**: 修改链接的所有信息
- **删除链接**: 支持单个删除和批量删除
- **批量操作**: 批量移动分类、批量启用/禁用
- **点击统计**: 实时显示每个链接的点击次数
- **图标管理**: 
  - 自动获取网站favicon
  - 手动上传自定义图标
  - 支持多种图片格式（JPG、PNG、WebP、SVG）

#### 高级功能
- **预览功能**: 鼠标悬停显示网站预览

### 3. 系统设置 (System Settings)

#### 基础设置
- **网站信息**: 
  - 网站名称
  - 网站描述
  - 网站关键词（SEO）
  - 网站Logo
- **背景设置**:
  - 纯色背景（颜色选择器）
  - 图片背景（上传或URL）
  - API背景（支持Unsplash等）
  - 背景透明度调节
- **页脚设置**: 版权信息、备案号、自定义代码

#### 高级设置
- **SEO优化**: 自定义meta标签、结构化数据

### 4. 用户认证 (Authentication)

#### 登录系统
- **管理员登录**: 单用户管理员模式
- **密码安全**: 
  - 强密码策略
  - 密码哈希存储（bcrypt）
- **会话管理**: 
  - 记住登录状态

#### 安全功能
- **登录日志**: 记录所有登录尝试

## 🏗️ 技术架构

### 前端技术栈
- **HTML5 + CSS3**: 语义化标签，现代化样式
- **Bootstrap 5**: 响应式UI框架
- **JavaScript (ES6+)**: 原生JS，无框架依赖
- **jQuery**: 简化DOM操作和AJAX请求
- **FontAwesome**: 图标库支持
- **SweetAlert2**: 美观的弹窗组件

### 后端技术栈
- **PHP 8.0+**: 现代PHP语法和特性
- **MySQL 8.0+**: 关系型数据库
- **PDO**: 数据库抽象层，支持预处理语句
- **MVC架构**: 清晰的代码分层
- **RESTful API**: 标准化的API设计
- **Composer**: 依赖管理工具

### 安全特性
- **输入验证**: 所有用户输入都经过严格验证
- **SQL注入防护**: 使用PDO预处理语句
- **XSS防护**: 输出时自动转义HTML
- **CSRF防护**: 表单令牌验证
- **文件上传安全**: 文件类型和大小检查
- **权限控制**: 基于角色的访问控制

## 📁 文件结构

```
admin/
├── index.php              # 登录页面
├── dashboard.php          # 仪表盘主页
├── logout.php            # 退出登录
├── categories/           # 分类管理模块
│   ├── index.php         # 分类列表
│   ├── add.php           # 添加分类
│   └── edit.php          # 编辑分类
├── links/                # 链接管理模块
│   ├── index.php         # 链接列表
│   ├── add.php           # 添加链接
│   └── edit.php          # 编辑链接
├── files/                # 文件管理模块（只读模式）
│   └── index.php         # 文件浏览
├── settings/             # 系统设置模块
│   ├── general.php       # 基础设置
│   ├── security.php      # 安全设置
│   └── logs.php          # 日志管理
├── includes/             # 公共包含文件
│   ├── auth.php          # 认证相关
│   ├── functions.php     # 公共函数
│   └── init.php          # 初始化文件
├── templates/            # 页面模板
│   ├── header.php        # 页面头部
│   └── footer.php        # 页面底部
└── assets/               # 静态资源
    ├── css/              # 样式文件
    │   └── admin.css     # 管理后台样式
    ├── js/               # JavaScript文件
    │   └── admin.js      # 管理功能
    └── images/           # 图片资源
```

## 🚀 快速开始

### 环境要求
- PHP 8.0 或更高版本
- MySQL 8.0+ 或 MariaDB 10.5+
- Web服务器（Apache/Nginx/IIS）
- GD库（图片处理）
- cURL扩展（API调用）

### 安装步骤
1. **数据库准备**
   ```sql
   CREATE DATABASE navigation_admin CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. **配置文件**
   - 网站的核心配置文件为根目录的 `config.php`，其中包括数据库信息
   - 复制 `config-sample.php` 为 `config.php`
   - 修改数据库连接信息
   - 设置管理员密码

3. **初始化数据库**
   ```bash
   php install.php
   ```

4. **访问后台**
   - 前台地址: http://your-domain.com
   - 后台地址: http://your-domain.com/admin
   - 首次登录使用安装时设置的密码

### 安全建议
1. 使用强密码并定期更换
2. 限制admin目录访问IP（可选）
3. 启用HTTPS加密传输
4. 定期备份数据和文件
5. 及时更新系统和依赖

## 🔧 开发规范

### 代码规范
- 遵循PSR-12编码标准
- 使用有意义的变量和函数名
- 添加必要的代码注释
- 错误处理和日志记录

### 数据库规范
- 使用小写+下划线命名
- 添加表和字段注释
- 合理使用索引优化查询
- 外键约束保证数据完整性

### 安全规范
- 所有输入必须经过验证
- 使用预处理语句防止SQL注入
- 敏感信息加密存储
- 定期安全扫描和更新

## 📞 技术支持

如遇到问题，请检查：
1. PHP错误日志: `logs/error.log`
2. 浏览器开发者工具控制台
3. 数据库连接测试文件
4. 文件权限设置

## 📝 版本历史

- v1.0.0 - 初始版本，包含基础功能
- v1.1.0 - 精简功能，移除文件上传模块
- v1.2.0 - 优化用户体验，增加响应式设计
- v1.3.0 - 安全增强，完善认证系统

---

**最后更新**: 2024年12月
**维护团队**: 导航网站开发组